<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="mc-master-page: url('../../Resources/MasterPages/EMSMobileApp.flmsp');">
    <head><title mt-export-translate="no">Changing the EMS Mobile App Logo (Private Deployment Only)</title>
        <meta name="mt-type" value="application/x.deki-text" />
        <meta name="mt-unsafe" value="true" />
    </head>
    <body>
        <h1 MadCap:autonum="CHAPTER&#160;1: ">
            <MadCap:concept term="V44.1" />Change EMS Mobile App Logo (Private Deployment Only)</h1>
        <p>For customers re-signing the application, we provide <a href="Mobile_ConfigRe-signMobilePrivDeploy.html#Use_Unsigned_Builds">unsigned builds</a>.</p>
        <p>This topic provides information on:</p>
        <ul>
            <li><a href="#ios">Changing the EMS&#160;Mobile App Logo in iOS</a>
            </li>
            <li><a href="#Android">Changing the EMS&#160;Mobile App Logo in Android</a>
            </li>
        </ul>
        <h2><a name="ios"></a>Changing EMS&#160;Mobile App Logo (iOS)</h2>
        <ol class="number-list">
            <li>Store your unsigned EMS Mobile App in a new or empty directory.</li>
            <li>Change the extension of the app to .zip. (e.g., IPhone.App-44.1.xxx-unsigned.ipa -&gt; IPhone.App-44.1.xxx-unsigned.zip.)</li>
            <li>Un-compress/expand the new zip file.</li>
            <li>To set a custom logo, navigate to <span class="bold">Assets &gt; SRC &gt; Features &gt; Shared &gt;&#160;IMG. </span> </li>
        </ol>
        <p>
            <img src="../Images/B_ConfigurationGuide/Logofile.png" class="PDFlarge" />
        </p>
        <ol MadCap:continue="true" class="number-list">
            <li>Replace the <span class="bold">logo.png</span> file.</li>
            <li>Rezip all of the extracted files above.</li>
            <li>Give the new zip file an ipa extension.</li>
            <li>Using a Mac computer, install fastlane.<ul MadCap:continue="true"><li>sudo gem install fastlane</li></ul></li>
            <li>
                <MadCap:annotation MadCap:createDate="2018-08-02T11:01:19.6682632-06:00" MadCap:creator="Jen.Naused" MadCap:initials="JE" MadCap:comment="This used to say, &quot;Do the rest of this on your Mac.&quot;" MadCap:editor="Jen.Naused" MadCap:editDate="2018-08-02T11:01:29.1496082-06:00">Do the rest of this on your local directory.</MadCap:annotation>
            </li>
            <li>Login to <a href="https://developer.apple.com/">https://developer.apple.com</a> and switch to team "Your Team Name."</li>
            <li>Download your teams Distribution provisioning profile.</li>
            <li>Double click it to install it.  This file should exist on your system:<ul MadCap:continue="true"><li>~/Library/MobileDevice/Provisioning Profiles/&lt;a guid for your provisioning profile&gt;.mobileprovision</li></ul></li>
            <li>Get your team's existing .p12 file with the cert and private key combined, and then import that into Keychain (by double-clicking it) and then entering the password.<ul MadCap:continue="true"><li>When the cert is installed successfully you should see iPhone Distribution: &lt;Your Team Name&gt; in your Keychain, with a private key.</li></ul></li>
            <li> Assuming you have:<ul><li>fastlane installed on your Mac.</li><li>the cert &amp; private key installed in Keychain</li><li>the provisioning profile mentioned above in:   ~/Library....mobileprovision</li></ul></li>
            <li>
                <p>Resign your target ipa with this command:</p><pre>fastlane run resign \</pre><pre>ipa:path/to/your/file.ipa \</pre><pre>signing_identity:"iPhone Distribution: &lt;Your Team Name&gt;" \</pre><pre xml:space="preserve">provisioning_profile:$HOME/Library/MobileDevice/
Provisioning Profiles/&lt;your profile GUID&gt;.mobileprovision \</pre><pre>display_name:EMS-Resigned</pre>
                <div class="box-note">
                    <p><span class="bold">NOTE</span>:&#160;If you want a bash scrip that will do this, copy this into a file (e.g., resign_enterprise.sh):</p><pre><span style="font-family: 'Courier New';"><span style="font-size: 10pt;">#!/bin/bash</span></span><br style="font-family: 'Courier New';font-size: 8pt;" /><span style="font-family: 'Courier New';"><span style="font-size: 10pt;">IPA=relative/path/to/file.ipa</span></span><br style="font-family: 'Courier New';font-size: 10pt;" /><span style="font-family: 'Courier New';"><span style="font-size: 10pt;">IDENTITY="iPhone Distribution: &lt;Your Team Name&gt;"</span></span><br style="font-family: 'Courier New';font-size: 10pt;" /><span style="font-family: 'Courier New';"><span style="font-size: 10pt;">PROFILE=$HOME/Library/MobileDevice/Provisioning Profiles/
&lt;your profile GUID&gt;.mobileprovision</span></span><br style="font-family: 'Courier New';font-size: 10pt;" /><span style="font-family: 'Courier New';"><span style="font-size: 10pt;">DISPLAY_NAME=EMS-Resigned</span></span><br style="font-family: 'Courier New';font-size: 10pt;" /><span style="font-family: 'Courier New';"><span style="font-size: 10pt;">fastlane run resign ipa:"$IPA" signing_identity:
"$IDENTITY" provisioning_profile:"$PROFILE" display_name:
$DISPLAY_NAME</span></span></pre>
                </div>
            </li>
        </ol>
        <h2><a name="Android"></a>Changing EMS&#160;Mobile App Logo (Android)</h2>
        <ol class="number-list">
            <li>Store your unsigned EMS&#160;Mobile App in a new or empty directory. </li>
            <li>Change the extension of the app to .zip. (e.g., IPhone.App-44.1.xxx-unsigned.ipa -&gt; IPhone.App-44.1.xxx-unsigned.zip.)</li>
            <li>Un-compress/expand the new zip file.</li>
            <li>To set a custom logo, navigate to RES &gt;&#160;<span class="bold">Drawable-mdpi-v4</span>. </li>
        </ol>
        <p>
            <img src="../Images/B_ConfigurationGuide/logofile_ANDROID.png" class="PDFlarge" />
        </p>
        <ol MadCap:continue="true" class="number-list">
            <li>Replace the <span class="bold">src_features_shared_img_logo.png</span> file. </li>
            <li>Rezip all the extracted files above.<p class="box-note"><span class="bold">IMPORTANT</span>:&#160;Assets, Res, and AndroidManifest.xml are top-level files in an .apk. Please ensure you are zipping the correct files.</p><ul MadCap:continue="true"><li>This CLI command will zip all the files in the current directory into a new zip file in the parent directory:<pre>zip -qr ../ems-custom-44.1.xxx.zip ./*</pre></li></ul></li>
        </ol>
        <ol MadCap:continue="true" class="number-list">
            <li>Give the new zip file an apk extension (e.g., myapp.zip -&gt; myapp.apk).</li>
            <li>Sign the new apk file.</li>
            <li>The script below is what EMS&#160;uses to sign the EMS&#160;Mobile App. Please adjust for your needs:</li>
        </ol>
        <blockquote>
            <div>
                <p><pre>#!/bin/bash</pre><pre>APK_TO_SIGN=$1</pre><pre>APK_OUTPUT=$2</pre><pre>EMS_APK_KEYSTORE_PATH=path/to/your/app.keystore</pre><pre>&#160;</pre><pre>jarsigner -verbose \</pre><pre>-sigalg $EMS_APK_SIG_ALG \</pre><pre>-digestalg $EMS_APK_DIGEST_ALG \</pre><pre>-storepass $EMS_APK_KEYSTORE_PASS \</pre><pre>-keystore $EMS_APK_KEYSTORE_PATH \</pre><pre>$APK_TO_SIGN $EMS_APK_ALIAS_NAME</pre><pre>&#160;&#160;</pre><pre>zipalign 4 $APK_TO_SIGN $APK_OUTPUT</pre>
                </p>
            </div>
        </blockquote>
        <p class="box-note"><span class="boldAllCaps">Note: </span>EMS recommends that you use an image with a 3:1 aspect ratio in order to ensure that the image will be properly rendered by the application.</p>
    </body>
</html>